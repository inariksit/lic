\def\buscandoV{buscando_{verb}}
\def\unaPrn{una_{prn}}

\appendix
\chapter{SAT-encoding}

\section{SAT-encoding of sentences}

We receive input from the morphological analyser in the following format.
The example segment is used throughout this appendix.

\begin{verbatim}
"<buscando>"
        "buscar" verb ger
"<una>"
        "uno" prn tn f sg
        "uno" det ind f sg
        "unir" verb prs p3 sg
        "unir" verb prs p1 sg
        "unir" verb imp p3 sg
"<aproximación>"
        "aproximación" n f sg
"<más>"
        "más" adv
        "más" adj mf sp
"<científica>"
        "científico" adj f sg
        "científico" n f sg
\end{verbatim}

We transform each reading into a SAT-variable:


\begin{multline}
\buscandoV \\
\unaPrn \\
una_{det} \\
una_{verb prs p3} \\
una_{verb prs p1} \\
una_{verb imp p3} \\
aproximaci\acute{o}n_n \\
m\acute{a}s_{adv} \\
m\acute{a}s_{adj} \\
cient\acute{i}fica_{adj} \\
cient\acute{i}fica_n \\
\end{multline}

Then, for each cohort, we require that at least one of its readings is true. We add the following clauses:

\begin{centering}
\begin{tabular}{c}
$buscando_{verb}$ \\
$una_{prn} \vee una_{det} \vee una_{verb prs p3} \vee una_{verb prs p1} \vee una_{verb imp p3}$ \\
$aproximaci\acute{o}n_n$ \\
$m\acute{a}s_{adv} \vee m\acute{a}s_{adj}$ \\
$cient\acute{i}fica_{adj}\vee cient\acute{i}fica_n$ \\
\end{tabular}
\end{centering}

The passage contains two unambiguous words, \emph{buscando} and \emph{aproximación}. The clauses $buscando_{verb}$ and $aproximaci\acute{o}n_n$ are \emph{unit clauses}, and the respective variables are trivially assigned True. 
The final assignment of the other variables depends on the constraint rules.

\section{SAT-encoding of rules}

In order to demonstrate the SAT-encoding, we show variants of \textsc{remove} and \textsc{select} rules, with different contextual tests. 
We try to craft rules that make sense for this passage; however, some variants are not likely encountered in a real grammar, and for some rule types, we modify the rule slightly. We believe this makes the encoding overall more readable, in contrast to using more homogenous but more artificial rules and input.

The basis of the rule is \texttt{REMOVE adj}, which will target the word form \emph{más}.
% Its positive counterpart is \texttt{SELECT adv}, which translates into ``remove everything but adv''.

\subsection{Unordered scheme}



\subsubsection{No conditions} 

The simplest rule types remove or select a target in all cases. 
The first rule affects all adjective readings.
\paragraph{REMOVE adj}

\begin{multline}
\neg{}m\acute{a}s_{adj} 
\neg{}cient\acute{\i}fica_{adj}
\end{multline}

\paragraph{SELECT adj}
The \textsc{select} counterpart removes all other readings that appear in the same cohort with an adjective.

\begin{centering}
$m\acute{a}s_{adj}        \wedge \neg{}m\acute{a}s_{adv}$ \\
$cient\acute{i}fica_{adj} \wedge \neg{}cient\acute{i}fica_n$ \\
\end{centering}


\paragraph{SELECT verb}
A rule can target multiple


\subsubsection{Positive conditions} 

\paragraph{REMOVE adj IF (1 adj)}

\begin{centering}
$científica_{adj} \Rightarrow  \neg{}m\acute{a}s_{adj}$
\end{centering}

The most basic rule type

\paragraph{SELECT adv IF (1 adj)}

\begin{centering}
$científica_{adj} \Rightarrow m\acute{a}s_{adv} \wedge \neg{}m\acute{a}s_{adj}$
\end{centering}

\paragraph{SELECT adv IF (1 adj) (-1 n)} Conjunction of conditions

\begin{centering}
$científica_{adj} \wedge aproximaci\'{o}n_n \Rightarrow más_{adv} \wedge \neg{}más_{adj}$
\end{centering}

\paragraph{SELECT adv IF ((1 adj)  OR (-1 n))} Disjunction of conditions (template)

\begin{centering}
$científica_{adj} \wedge aproximaci\'{o}n_n \Rightarrow más_{adv} \wedge \neg{}más_{adj}$
\end{centering}

\paragraph{SELECT adv IF (-1* n)} Scanning

\begin{centering}
$TODO_{n} \vee aproximaci\'{o}n_n \Rightarrow más_{adv} \wedge \neg{}más_{adj}$
\end{centering}


\paragraph{SELECT adv IF (1C adj)}

\begin{centering}
$científica_{adj} \wedge \neg{}científica_{n} \Rightarrow más_{adv} \wedge \neg{}más_{adj}$
\end{centering}

\paragraph{NOT}

\texttt{}

\subsection{Ordered scheme}
